#!/usr/bin/env ruby
lib_path = File.dirname(__FILE__) + "/../lib"
$:.unshift lib_path

require 'optparse'
require 'rubygems'

options = {
}

opts = OptionParser.new do |o|
  o.banner = "usage: hyde <action> [<options>]"
  o.separator ""

  #o.on("-w", "--watch", "watch for changes") do
  #  options[:watch] = true
  #end

  o.separator "Actions:"
  o.separator "    start    - Starts a server"
  o.separator "    build    - Creates HTML files"
  o.separator "    create   - Starts a project"
  o.separator ""
  o.separator "Options:"

  # Help
  o.on_tail("-h", "--help", "show this message") do
    puts opts
    exit
  end
end

opts.parse!
options[:action] = ARGV[0]
#options[:params] = ARGV[1:]

if options[:action] == 'start'
  system "ruby #{lib_path}/hyde/init.rb"
elsif options[:action] == 'build'
  puts "Maybe later"
elsif options[:action] == 'create'
  puts "Maybe later"
else
  puts opts
end
